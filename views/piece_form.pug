extends layout 

block content 
    h1= title 

    form(method='POST') 
        div.form-group 
            label(for='title') *Title:
            input.form-control(type='text' placeholder='Title of work' name='title' required value=(undefined==piece ? '' : piece.title))            
            label(for='medium') *Medium:
            input.form-control(type='text', placeholder='Oil on canvas / watercolour / marble / etc.' name='medium' required value=(undefined==piece ? '' : piece.medium))
            label(for='artist') *Artist:
            select#artist.form-control(name="artist" required)
                option(value='') --Select an Artist--
                for artist in artists 
                    if piece 
                        if artist._id.toString()===piece.artist._id.toString() 
                            option(value=artist._id selected) #{artist.sorted_name} 
                        else 
                            option(value=artist._id) #{artist.sorted_name} 
                    else 
                        option(value=artist._id) #{artist.sorted_name} 
            
            label(for='year') Year made:
            input.form-control(type='text', placeholder='1565 / c. 1700 / 1850-1852 / etc.' name='year' required value=(undefined==piece ? '' : piece.year))
            

        div.form-group 
            label(for='height') Height (cm):
            input.form-control(type='number' step="0.01" placeholder='Height' name='height' value=(undefined==piece ? '' : piece.height)) 
            label(for='width') Width (cm):
            input.form-control(type='number' step="0.01" placeholder='Width' name='width' value=(undefined==piece ? '' : piece.width)) 
            label(for='length') Length (cm):
            input.form-control(type='number' step="0.01" placeholder='Length' name='length' value=(undefined==piece ? '' : piece.length))

        div.form-group 
            label(for='description') Description:
            input#description.form-control(type='textarea', placeholder="Description" name='description' value=(undefined==piece ? '' : piece.description)) 

        div.form-group 
            label(for='image') Upload image: 
            input#image.form-control(type='file', name='image')

        button.btn.btn-primary(type='submit') Submit

    if errors 
        ul 
            for error in errors 
                li!= error.msg